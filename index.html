
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WeightOff - Your Fitness Journey</title>
    <style>
        /* Global Resets & Basic Styling */
        * {
            margin: 0;
            padding: 0;
            boxSizing: border-box;
            fontFamily: 'Arial', sans-serif;
        }

        body {
            backgroundColor: #f0f4f8; /* Light background for the body */
            color: #333;
            lineHeight: 1.6;
            display: flex;
            flexDirection: column;
            minHeight: 100vh;
        }

        /* Header Styling */
        .appHeader {
            backgroundColor: #007bff; /* Blue tone */
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justifyContent: space-between;
            alignItems: center;
            boxShadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .logo {
            fontSize: 1.8rem;
            fontWeight: 'bold';
        }

        .appNav ul {
            listStyle: none;
            display: flex;
        }

        .appNav ul li {
            marginLeft: 1.5rem;
        }

        .appNav ul li a {
            color: white;
            textDecoration: none;
            fontSize: 1rem;
            transition: color 0.3s ease;
        }

        .appNav ul li a:hover {
            color: #cce5ff; /* Lighter blue for hover */
        }

        /* Main Content Area */
        .mainContainer {
            flex: 1;
            padding: 1.5rem;
            maxWidth: 1200px;
            margin: 0 auto;
            width: 100%;
        }

        /* Section Styling */
        .contentSection {
            backgroundColor: white;
            padding: 1.5rem;
            marginBottom: 1.5rem;
            borderRadius: 8px;
            boxShadow: 0 1px 3px rgba(0,0,0,0.08);
        }

        .sectionTitle {
            fontSize: 1.5rem;
            color: #28a745; /* Green tone for titles */
            marginBottom: 1rem;
            borderBottom: 2px solid #e0e0e0;
            paddingBottom: 0.5rem;
        }

        /* Card-based styling for feed items */
        .feedItemCard {
            border: 1px solid #e0e0e0;
            borderRadius: 8px;
            padding: 1rem;
            marginBottom: 1rem;
            backgroundColor: #f9f9f9;
        }

        .feedItemCard .userInfo {
            display: flex;
            alignItems: center;
            marginBottom: 0.75rem;
        }

        .feedItemCard .avatar {
            width: 40px;
            height: 40px;
            borderRadius: 50%;
            backgroundColor: #007bff; /* Placeholder avatar color */
            marginRight: 0.75rem;
            display: flex;
            alignItems: center;
            justifyContent: center;
            color: white;
            fontSize: 0.8rem;
        }

        .feedItemCard .username {
            fontWeight: bold;
            color: #0056b3;
        }

        .feedItemCard .postContent {
            marginBottom: 0.75rem;
        }

        .feedItemCard .postImage {
            maxWidth: 100%;
            borderRadius: 4px;
            marginBottom: 0.75rem;
            display: none; /* Hidden by default, shown if src is set */
        }

        .feedItemCard .postActions button {
            padding: 0.5rem 0.8rem;
            marginRight: 0.5rem;
            border: 1px solid #007bff;
            backgroundColor: white;
            color: #007bff;
            borderRadius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .feedItemCard .postActions button:hover {
            backgroundColor: #007bff;
            color: white;
        }

        /* Form Styling */
        .formGroup {
            marginBottom: 1rem;
        }

        .formGroup label {
            display: block;
            marginBottom: 0.3rem;
            color: #555;
            fontWeight: bold;
        }

        .formGroup input[type="text"],
        .formGroup input[type="email"],
        .formGroup input[type="password"],
        .formGroup input[type="number"],
        .formGroup textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ccc;
            borderRadius: 4px;
            fontSize: 1rem;
        }

        .formGroup textarea {
            minHeight: 80px;
            resize: vertical;
        }

        .formButton {
            backgroundColor: #28a745; /* Green button */
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            borderRadius: 4px;
            cursor: pointer;
            fontSize: 1rem;
            transition: background-color 0.3s ease;
        }

        .formButton:hover {
            backgroundColor: #218838; /* Darker green on hover */
        }

        .formButton.secondary {
            backgroundColor: #6c757d;
        }
        .formButton.secondary:hover {
            backgroundColor: #5a6268;
        }

        /* Motivation Panel */
        .motivationPanel {
            backgroundColor: #e6f7ff; /* Light blue background */
            borderLeft: 5px solid #007bff; /* Blue accent */
            padding: 1rem;
        }

        .motivationQuote {
            fontSize: 1.1rem;
            fontStyle: 'italic';
            color: #0056b3;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .appHeader {
                flexDirection: column;
                padding: 1rem;
            }
            .appNav ul {
                marginTop: 0.5rem;
                justifyContent: center;
            }
            .appNav ul li {
                marginLeft: 0.75rem;
                marginRight: 0.75rem;
            }
            .sectionTitle {
                fontSize: 1.3rem;
            }
        }

        @media (max-width: 480px) {
            .logo {
                fontSize: 1.5rem;
            }
            .appNav ul li a {
                fontSize: 0.9rem;
            }
            .feedItemCard .postActions button {
                padding: 0.4rem 0.6rem;
                font-size: 0.9rem;
            }
            .formButton {
                padding: 0.6rem 1.2rem;
                font-size: 0.9rem;
            }
        }

        /* Dashboard-like Profile Section (Very Basic) */
        .profileDashboard {
            display: grid;
            gridTemplateColumns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .profileWidget {
            backgroundColor: #f9f9f9;
            padding: 1rem;
            borderRadius: 6px;
            border: 1px solid #e0e0e0;
        }

        .profileWidget h3 {
            color: #007bff;
            marginBottom: 0.5rem;
        }

        /* Footer Styling */
        .appFooter {
            textAlign: center;
            padding: 1rem;
            backgroundColor: #343a40;
            color: white;
            marginTop: auto; /* Pushes footer to bottom */
        }

    </style>
</head>
<body>

    <header class="appHeader">
        <div class="logo">WeightOff</div>
        <nav class="appNav">
            <ul>
                <li><a href="#feed" onclick="showSection('feedSection')">Feed</a></li>
                <li><a href="#tracker" onclick="showSection('trackerSection')">Tracker</a></li>
                <li><a href="#profile" onclick="showSection('profileSection')">Profile</a></li>
                <li><a href="#login" onclick="showSection('authSection')">Login/Register</a></li>
            </ul>
        </nav>
    </header>

    <main class="mainContainer">
        <section id="authSection" class="contentSection">
            <h2 class="sectionTitle">Join WeightOff</h2>
            <div id="loginForm">
                <h3>Login</h3>
                <form onsubmit="handleMockLogin(event)">
                    <div class="formGroup">
                        <label for="loginEmail">Email:</label>
                        <input type="email" id="loginEmail" required>
                    </div>
                    <div class="formGroup">
                        <label for="loginPassword">Password:</label>
                        <input type="password" id="loginPassword" required>
                    </div>
                    <button type="submit" class="formButton">Login</button>
                </form>
                <p>Don't have an account? <a href="#" onclick="toggleAuthForms()">Register here</a></p>
            </div>
            <div id="registerForm" style="display:none;">
                <h3>Register</h3>
                <form onsubmit="handleMockRegister(event)">
                    <div class="formGroup">
                        <label for="regUsername">Username:</label>
                        <input type="text" id="regUsername" required>
                    </div>
                    <div class="formGroup">
                        <label for="regEmail">Email:</label>
                        <input type="email" id="regEmail" required>
                    </div>
                    <div class="formGroup">
                        <label for="regPassword">Password:</label>
                        <input type="password" id="regPassword" required>
                    </div>
                    <button type="submit" class="formButton">Register</button>
                </form>
                <p>Already have an account? <a href="#" onclick="toggleAuthForms()">Login here</a></p>
            </div>
        </section>

        <section id="feedSection" class="contentSection" style="display:none;">
            <h2 class="sectionTitle">Activity Feed</h2>
            <div class="formGroup">
                <textarea id="newPostText" placeholder="Share your progress... (e.g., Ran 5km today! #fitness)"></textarea>
                 <input type="file" id="postImageUpload" accept="image/*,video/*" style="margin-top: 0.5rem; display: block;">
                <button class="formButton" onclick="addMockPost()" style="margin-top:0.5rem;">Post</button>
            </div>
            <div id="feedItemsContainer">
                <div class="feedItemCard">
                    <div class="userInfo">
                        <div class="avatar">U1</div>
                        <span class="username">FitnessFan123</span>
                    </div>
                    <p class="postContent">Just finished a 30-min workout! Feeling great. #motivation</p>
                    <div class="postActions">
                        <button onclick="alert('Liked!')">Like</button>
                        <button onclick="alert('Commented!')">Comment</button>
                        <button onclick="alert('Saved!')">Save</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="trackerSection" class="contentSection" style="display:none;">
            <h2 class="sectionTitle">Weight Tracker</h2>
            <div class="formGroup">
                <label for="weightInput">Log Current Weight (kg):</label>
                <input type="number" id="weightInput" step="0.1" placeholder="e.g., 75.5">
                <button class="formButton" onclick="logMockWeight()" style="margin-top:0.5rem;">Log Weight</button>
            </div>
            <div class="motivationPanel">
                <p class="motivationQuote" id="motivationQuoteDisplay">"The journey of a thousand miles begins with a single step." - Lao Tzu</p>
            </div>
            <div id="weightLog" style="margin-top: 1rem;">
                <h4>Your Log:</h4>
                <ul id="weightLogList">
                    <li><em>No weights logged yet.</em></li>
                </ul>
            </div>
            <div style="margin-top:1rem; padding:1rem; background-color: #e9ecef; border-radius:4px; text-align:center;">
                Visual Progress Chart (Line/Bar) - Placeholder
            </div>
        </section>

        <section id="profileSection" class="contentSection" style="display:none;">
            <h2 class="sectionTitle">My Profile</h2>
            <div class="profileDashboard">
                <div class="profileWidget">
                    <h3>User Details</h3>
                    <p><strong>Username:</strong> <span id="profileUsername">User123</span></p>
                    <p><strong>Avatar:</strong> <span class="avatar" style="width:50px; height:50px; font-size:1rem; display:inline-flex;">U</span></p>
                    <p><strong>Current Weight:</strong> <span id="profileCurrentWeight">--</span> kg</p>
                    <p><strong>Target Weight:</strong> 70 kg</p>
                </div>
                <div class="profileWidget">
                    <h3>My Activity</h3>
                    <p><strong>Posts Made:</strong> <span id="profilePostsCount">1</span></p>
                    <p><strong>Weight Logs:</strong> <span id="profileWeightLogsCount">0</span></p>
                    <p><strong>Badges Earned:</strong> <em>Early Bird</em></p>
                </div>
                <div class="profileWidget">
                    <h3>Saved Posts</h3>
                    <p><em>No saved posts yet.</em></p>
                </div>
                 <div class="profileWidget">
                    <h3>Motivation Panel</h3>
                    <p id="profileMotivation">Keep up the great work! You're doing great!</p>
                    <p><strong>Top Users:</strong> <em>(Feature coming soon)</em></p>
                </div>
            </div>
        </section>

    </main>

    <footer class="appFooter">
        <p>&copy; 2025 WeightOff. Keep Pushing Your Limits!</p>
    </footer>

    <script>
        // Basic JavaScript for SPA-like navigation and mock interactions

        // Firebase and Cloudinary configurations (for a real project)
        const firebaseConfig = {
            apiKey: "AIzaSyCT7Ih36xNcp3rMgFB17OyleTh-kaeBBZk",
            authDomain: "weightoff-b7916.firebaseapp.com",
            databaseURL: "https://weightoff-b7916-default-rtdb.firebaseio.com",
            projectId: "weightoff-b7916",
            storageBucket: "weightoff-b7916.firebasestorage.app",
            messagingSenderId: "623909660439",
            appId: "1:623909660439:web:29d5305a401c84bfd2b952",
            measurementId: "G-006DGJR805"
        };
        // In a real React app, you would initialize Firebase:
        // import { initializeApp } from "firebase/app";
        // const app = initializeApp(firebaseConfig);
        // And other services like getAuth, getFirestore, etc.

        const cloudinaryCloudName = "dbiltdpxh";
        const cloudinaryPreset = "farhadsultan";
        // In a real app, you'd use Cloudinary SDKs or fetch API to upload.

        // Simple section toggling
        const sections = ['authSection', 'feedSection', 'trackerSection', 'profileSection'];
        function showSection(sectionIdToShow) {
            sections.forEach(sectionId => {
                const el = document.getElementById(sectionId);
                if (el) {
                    el.style.display = (sectionId === sectionIdToShow) ? 'block' : 'none';
                }
            });
            if (sectionIdToShow === 'authSection') { // Default to login form
                 document.getElementById('loginForm').style.display = 'block';
                 document.getElementById('registerForm').style.display = 'none';
            }
        }

        function toggleAuthForms() {
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            if (loginForm.style.display === 'none') {
                loginForm.style.display = 'block';
                registerForm.style.display = 'none';
            } else {
                loginForm.style.display = 'none';
                registerForm.style.display = 'block';
            }
        }

        // Mock Authentication
        let loggedInUser = null;
        let userPostsCount = 1; // Start with the initial mock post
        let userWeightLogsCount = 0;

        function handleMockLogin(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            if (email) {
                loggedInUser = { email: email, username: email.split('@')[0] || 'User' };
                alert(`Welcome back, ${loggedInUser.username}!`);
                document.getElementById('profileUsername').textContent = loggedInUser.username;
                // Update avatar initial if username is available
                const avatarInitial = loggedInUser.username.charAt(0).toUpperCase();
                document.querySelector('#profileSection .avatar').textContent = avatarInitial;

                showSection('feedSection'); // Navigate to feed after login
                updateNavForLoggedInUser();
            } else {
                alert('Please enter an email.');
            }
        }

        function handleMockRegister(event) {
            event.preventDefault();
            const username = document.getElementById('regUsername').value;
            const email = document.getElementById('regEmail').value;
            if (username && email) {
                loggedInUser = { email: email, username: username };
                alert(`Registration successful! Welcome, ${loggedInUser.username}!`);
                document.getElementById('profileUsername').textContent = loggedInUser.username;
                const avatarInitial = loggedInUser.username.charAt(0).toUpperCase();
                document.querySelector('#profileSection .avatar').textContent = avatarInitial;
                userPostsCount = 0; // Reset for new user
                document.getElementById('profilePostsCount').textContent = userPostsCount;


                showSection('feedSection'); // Navigate to feed after registration
                updateNavForLoggedInUser();
            } else {
                alert('Please fill in all fields.');
            }
        }

        function updateNavForLoggedInUser() {
            // Potentially change nav links, e.g., hide Login/Register, show Logout
            const authLink = document.querySelector('.appNav ul li a[href="#login"]');
            if(authLink && loggedInUser) {
                authLink.textContent = "Logout";
                authLink.onclick = function() {
                    loggedInUser = null;
                    alert("Logged out.");
                    showSection('authSection');
                    authLink.textContent = "Login/Register";
                    authLink.onclick = function() { showSection('authSection'); }; // Reset to original action
                     document.getElementById('profileUsername').textContent = "User123"; // Reset profile
                     document.querySelector('#profileSection .avatar').textContent = "U";
                     document.getElementById('profileCurrentWeight').textContent = "--";
                };
            }
        }


        // Mock Post
        function addMockPost() {
            if (!loggedInUser) {
                alert("Please login to post.");
                showSection('authSection');
                return;
            }
            const postText = document.getElementById('newPostText').value;
            const postImageFile = document.getElementById('postImageUpload').files[0];

            if (!postText.trim() && !postImageFile) {
                alert("Please write something or select an image/video to post.");
                return;
            }

            const feedItemsContainer = document.getElementById('feedItemsContainer');
            const card = document.createElement('div');
            card.className = 'feedItemCard';

            const userInitial = loggedInUser.username ? loggedInUser.username.charAt(0).toUpperCase() : 'U';

            let imageHTML = '';
            if (postImageFile) {
                // For a real app, this is where Cloudinary upload would happen.
                // Here, we'll just use a placeholder or try to display it locally (limited)
                const reader = new FileReader();
                const promise = new Promise((resolve, reject) => {
                    reader.onload = function(e) {
                        resolve(`<img class="postImage" src="${e.target.result}" alt="User Upload" style="display:block;">`);
                    }
                    reader.onerror = reject;
                    reader.readAsDataURL(postImageFile);
                });

                promise.then(html => {
                    imageHTML = html;
                    renderPost();
                }).catch(err => {
                    console.error("Error reading file:", err);
                    imageHTML = '<p><em>(Image preview failed)</em></p>';
                    renderPost();
                });
            } else {
                renderPost();
            }


            function renderPost() {
                card.innerHTML = `
                    <div class="userInfo">
                        <div class="avatar">${userInitial}</div>
                        <span class="username">${loggedInUser.username}</span>
                    </div>
                    <p class="postContent">${escapeHTML(postText)}</p>
                    ${imageHTML}
                    <div class="postActions">
                        <button onclick="alert('Liked!')">Like</button>
                        <button onclick="alert('Commented!')">Comment</button>
                        <button onclick="alert('Saved!')">Save</button>
                    </div>
                `;
                // Add to top of feed
                feedItemsContainer.insertBefore(card, feedItemsContainer.firstChild);
                document.getElementById('newPostText').value = '';
                document.getElementById('postImageUpload').value = ''; // Clear file input

                userPostsCount++;
                document.getElementById('profilePostsCount').textContent = userPostsCount;
                document.getElementById('profileMotivation').textContent = "Great post! Keep sharing your journey.";

            }
        }
        function escapeHTML(str) {
            var p = document.createElement("p");
            p.appendChild(document.createTextNode(str));
            return p.innerHTML;
        }


        // Mock Weight Log
        const motivationalQuotes = [
            "Believe you can and you're halfway there. - Theodore Roosevelt",
            "The only bad workout is the one that didn't happen.",
            "Success is the sum of small efforts, repeated day in and day out. - Robert Collier",
            "Your body can stand almost anything. Itâ€™s your mind that you have to convince.",
            "Push yourself because no one else is going to do it for you."
        ];
        let lastWeight = null;

        function logMockWeight() {
             if (!loggedInUser) {
                alert("Please login to log weight.");
                showSection('authSection');
                return;
            }
            const weightInput = document.getElementById('weightInput');
            const weight = parseFloat(weightInput.value);

            if (isNaN(weight) || weight <= 0) {
                alert("Please enter a valid weight.");
                return;
            }

            const weightLogList = document.getElementById('weightLogList');
            const newLogEntry = document.createElement('li');
            const currentDate = new Date().toLocaleDateString();
            newLogEntry.textContent = `${currentDate}: ${weight} kg`;

            if (weightLogList.firstChild && weightLogList.firstChild.textContent.includes("No weights logged yet.")) {
                weightLogList.innerHTML = ''; // Clear initial message
            }
            weightLogList.appendChild(newLogEntry);
            weightInput.value = ''; // Clear input

            // Update motivation quote
            const randomQuote = motivationalQuotes[Math.floor(Math.random() * motivationalQuotes.length)];
            document.getElementById('motivationQuoteDisplay').textContent = randomQuote;

            // Update profile
            document.getElementById('profileCurrentWeight').textContent = weight;
            userWeightLogsCount++;
            document.getElementById('profileWeightLogsCount').textContent = userWeightLogsCount;

            if(lastWeight !== null) {
                if(weight < lastWeight) {
                    document.getElementById('profileMotivation').textContent = `Awesome, you lost ${ (lastWeight - weight).toFixed(1) } kg since last time!`;
                } else if (weight > lastWeight) {
                     document.getElementById('profileMotivation').textContent = `Weight up by ${ (weight - lastWeight).toFixed(1) } kg. Stay focused!`;
                } else {
                     document.getElementById('profileMotivation').textContent = `Weight maintained. Keep it up!`;
                }
            }
            lastWeight = weight;

            alert("Weight logged successfully!");
        }

        // Initial setup
        document.addEventListener('DOMContentLoaded', () => {
            showSection('authSection'); // Show auth section by default
            // If you want to default to another section, change it here e.g. showSection('feedSection')
            // and handle loggedInUser state accordingly.
        });

    </script>
</body>
</html>

